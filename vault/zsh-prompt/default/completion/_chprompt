#compdef chprompt

_chprompt() {
  local home="${XDG_DATA_HOME:-$HOME/.local/share}"
  local dir="${ZSH_PROMPT_DIR:-$home/zsh/prompt}"

  local -a themes
  themes=( $(ls "$dir/themes" | xargs -I {} basename {} .zsh) )

  _arguments '1: :->theme'

  case "$state" in
    theme)
      _values 'theme' $themes
      ;;
  esac
}

_chprompt "$@"
